"use strict";angular.module("angular.extras.thirdparty.services").service("AppHelperService",["$injector",function(a){var b=this;this.userRoles=[],this.hasRole=function(a){return-1!==this.userRoles.indexOf(a)},this.loggedIn=function(a){this.userRoles=a,this.isLoggedIn=!0},this.loggedOut=function(){this.userRoles=[],this.isLoggedIn=!1},this.setGlobalScope=function(a){this.globalScope=a,this.globalVM=this.globalScope.globalCtrl,this.globalData=this.globalVM.globalData},this.setRoles=function(a){this.roles=a,this.setupAngularPermissions()},this.setupAngularPermissions=function(){if(a.has("PermRoleStore")){var c=a.get("PermRoleStore"),d=a.get("PermPermissionStore");d.definePermission("isAuthorized",function(){return b.isLoggedIn}),d.definePermission("isAnonymous",function(){return!b.isLoggedIn}),angular.forEach(this.roles,function(a){c.defineRole(a,function(){return b.hasRole(a)})})}}}]);